{"version":4,"terraform_version":"1.10.4","serial":37,"lineage":"d8ea59b6-8f9a-4f5b-2d5a-03cc93996610","outputs":{},"resources":[{"mode":"data","type":"aws_iam_policy_document","name":"ecs_exec","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"id":"854835411","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ssm:GetParameters\",\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"logs:CreateLogGroup\",\n        \"ecr:GetDownloadUrlForLayer\",\n        \"ecr:GetAuthorizationToken\",\n        \"ecr:BatchGetImage\",\n        \"ecr:BatchCheckLayerAvailability\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"ssm:GetParameters\",\"logs:PutLogEvents\",\"logs:CreateLogStream\",\"logs:CreateLogGroup\",\"ecr:GetDownloadUrlForLayer\",\"ecr:GetAuthorizationToken\",\"ecr:BatchGetImage\",\"ecr:BatchCheckLayerAvailability\"],\"Resource\":\"*\"}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["ecr:BatchCheckLayerAvailability","ecr:BatchGetImage","ecr:GetAuthorizationToken","ecr:GetDownloadUrlForLayer","logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents","ssm:GetParameters"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["*"],"sid":""}],"version":"2012-10-17"},"sensitive_attributes":[]}]},{"mode":"data","type":"aws_iam_policy_document","name":"ecs_task_exec","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"id":"1077804475","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ecs-tasks.amazonaws.com\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["ecs-tasks.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_attributes":[]}]},{"mode":"managed","type":"aws_ecs_service","name":"default","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":1,"attributes":{"alarms":[],"availability_zone_rebalancing":"DISABLED","capacity_provider_strategy":[],"cluster":"arn:aws:ecs:us-east-2:068007702576:cluster/cplive-plat-ue2-dev-ecs-platform","deployment_circuit_breaker":[{"enable":false,"rollback":false}],"deployment_controller":[{"type":"ECS"}],"deployment_maximum_percent":200,"deployment_minimum_healthy_percent":100,"desired_count":1,"enable_ecs_managed_tags":false,"enable_execute_command":false,"force_delete":null,"force_new_deployment":null,"health_check_grace_period_seconds":0,"iam_role":"/aws-service-role/ecs.amazonaws.com/AWSServiceRoleForECS","id":"arn:aws:ecs:us-east-2:068007702576:service/cplive-plat-ue2-dev-ecs-platform/cplive-plat-ue2-dev-app","launch_type":"FARGATE","load_balancer":[],"name":"cplive-plat-ue2-dev-app","network_configuration":[{"assign_public_ip":false,"security_groups":["sg-03ae763a096f3fe99"],"subnets":["subnet-01f1542b475c2ad0d","subnet-0819e15e92443f46d","subnet-0e59c93dadf26b1b1"]}],"ordered_placement_strategy":[],"placement_constraints":[],"platform_version":"LATEST","propagate_tags":"NONE","scheduling_strategy":"REPLICA","service_connect_configuration":[],"service_registries":[],"tags":{},"tags_all":{},"task_definition":"arn:aws:ecs:us-east-2:068007702576:task-definition/cplive-plat-ue2-dev-app:8","timeouts":null,"triggers":{},"volume_configuration":[],"vpc_lattice_configurations":[],"wait_for_steady_state":true},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_ecs_task_definition.default","aws_iam_role.ecs_exec","aws_security_group.ecs_service","data.aws_iam_policy_document.ecs_task_exec"]}]},{"mode":"managed","type":"aws_ecs_task_definition","name":"default","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":1,"attributes":{"arn":"arn:aws:ecs:us-east-2:068007702576:task-definition/cplive-plat-ue2-dev-app:8","arn_without_revision":"arn:aws:ecs:us-east-2:068007702576:task-definition/cplive-plat-ue2-dev-app","container_definitions":"[{\"environment\":[],\"essential\":true,\"healthCheck\":{\"command\":[\"CMD-SHELL\",\"curl -f http://localhost || exit 1\"],\"interval\":30,\"retries\":3,\"startPeriod\":0,\"timeout\":5},\"image\":\"068007702576.dkr.ecr.us-east-2.amazonaws.com/cloudposse-examples/app-on-ecs-v2:sha-785867b\",\"memory\":256,\"mountPoints\":[],\"name\":\"app\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":80,\"protocol\":\"tcp\"}],\"secrets\":[],\"systemControls\":[],\"volumesFrom\":[]}]","cpu":"256","enable_fault_injection":false,"ephemeral_storage":[],"execution_role_arn":"arn:aws:iam::068007702576:role/cplive-plat-ue2-dev-app-exec","family":"cplive-plat-ue2-dev-app","id":"cplive-plat-ue2-dev-app","inference_accelerator":[],"ipc_mode":"","memory":"512","network_mode":"awsvpc","pid_mode":"","placement_constraints":[],"proxy_configuration":[],"requires_compatibilities":["EC2","FARGATE"],"revision":8,"runtime_platform":[],"skip_destroy":false,"tags":{"Environment":"ue2","Name":"cplive-plat-ue2-dev-app","Namespace":"cplive","Stage":"dev","Tenant":"plat"},"tags_all":{"Environment":"ue2","Name":"cplive-plat-ue2-dev-app","Namespace":"cplive","Stage":"dev","Tenant":"plat"},"task_role_arn":"","track_latest":false,"volume":[]},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==","dependencies":["aws_iam_role.ecs_exec","data.aws_iam_policy_document.ecs_task_exec"]}]},{"mode":"managed","type":"aws_iam_role","name":"ecs_exec","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"arn":"arn:aws:iam::068007702576:role/cplive-plat-ue2-dev-app-exec","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-06T13:13:08Z","description":"","force_detach_policies":false,"id":"cplive-plat-ue2-dev-app-exec","inline_policy":[],"managed_policy_arns":[],"max_session_duration":3600,"name":"cplive-plat-ue2-dev-app-exec","name_prefix":"","path":"/","permissions_boundary":"","tags":{"Environment":"ue2","Name":"cplive-plat-ue2-dev-app","Namespace":"cplive","Stage":"dev","Tenant":"plat"},"tags_all":{"Environment":"ue2","Name":"cplive-plat-ue2-dev-app","Namespace":"cplive","Stage":"dev","Tenant":"plat"},"unique_id":"AROAQ7VMTGAYIHMHSPYJA"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["data.aws_iam_policy_document.ecs_task_exec"]}]},{"mode":"managed","type":"aws_iam_role_policy","name":"ecs_exec","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"id":"cplive-plat-ue2-dev-app-exec:cplive-plat-ue2-dev-app-exec","name":"cplive-plat-ue2-dev-app-exec","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"ssm:GetParameters\",\"logs:PutLogEvents\",\"logs:CreateLogStream\",\"logs:CreateLogGroup\",\"ecr:GetDownloadUrlForLayer\",\"ecr:GetAuthorizationToken\",\"ecr:BatchGetImage\",\"ecr:BatchCheckLayerAvailability\"],\"Effect\":\"Allow\",\"Resource\":\"*\"}]}","role":"cplive-plat-ue2-dev-app-exec"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_iam_role.ecs_exec","data.aws_iam_policy_document.ecs_exec","data.aws_iam_policy_document.ecs_task_exec"]}]},{"mode":"managed","type":"aws_security_group","name":"ecs_service","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":1,"attributes":{"arn":"arn:aws:ec2:us-east-2:068007702576:security-group/sg-03ae763a096f3fe99","description":"Allow ALL egress from ECS service","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"Allow all outbound traffic to any IPv4 address","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-03ae763a096f3fe99","ingress":[],"name":"cplive-plat-ue2-dev-app-service","name_prefix":"","owner_id":"068007702576","revoke_rules_on_delete":false,"tags":{"Attributes":"service","Environment":"ue2","Name":"cplive-plat-ue2-dev-app-service","Namespace":"cplive","Stage":"dev","Tenant":"plat"},"tags_all":{"Attributes":"service","Environment":"ue2","Name":"cplive-plat-ue2-dev-app-service","Namespace":"cplive","Stage":"dev","Tenant":"plat"},"timeouts":null,"vpc_id":"vpc-0935d163d59e45dd0"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=","create_before_destroy":true}]},{"mode":"managed","type":"aws_security_group_rule","name":"allow_all_egress","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":2,"attributes":{"cidr_blocks":["0.0.0.0/0"],"description":"Allow all outbound traffic to any IPv4 address","from_port":0,"id":"sgrule-2217928769","ipv6_cidr_blocks":null,"prefix_list_ids":null,"protocol":"-1","security_group_id":"sg-03ae763a096f3fe99","security_group_rule_id":"sgr-0b0cbec31b891e44e","self":false,"source_security_group_id":null,"timeouts":null,"to_port":0,"type":"egress"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==","dependencies":["aws_security_group.ecs_service"]}]}],"check_results":[{"object_kind":"var","config_addr":"var.additional_lb_target_groups","status":"pass","objects":[{"object_addr":"var.additional_lb_target_groups","status":"pass"}]},{"object_kind":"var","config_addr":"module.task_label.var.label_value_case","status":"pass","objects":[{"object_addr":"module.task_label.var.label_value_case","status":"pass"}]},{"object_kind":"var","config_addr":"module.this.var.id_length_limit","status":"pass","objects":[{"object_addr":"module.this.var.id_length_limit","status":"pass"}]},{"object_kind":"var","config_addr":"var.context","status":"pass","objects":[{"object_addr":"var.context","status":"pass"}]},{"object_kind":"var","config_addr":"module.task_label.var.id_length_limit","status":"pass","objects":[{"object_addr":"module.task_label.var.id_length_limit","status":"pass"}]},{"object_kind":"var","config_addr":"module.task_label.var.context","status":"pass","objects":[{"object_addr":"module.task_label.var.context","status":"pass"}]},{"object_kind":"var","config_addr":"module.service_connect_label.var.label_value_case","status":"pass","objects":[{"object_addr":"module.service_connect_label.var.label_value_case","status":"pass"}]},{"object_kind":"var","config_addr":"module.service_connect_label.var.id_length_limit","status":"pass","objects":[{"object_addr":"module.service_connect_label.var.id_length_limit","status":"pass"}]},{"object_kind":"var","config_addr":"var.protocol","status":"pass","objects":[{"object_addr":"var.protocol","status":"pass"}]},{"object_kind":"var","config_addr":"var.port","status":"pass","objects":[{"object_addr":"var.port","status":"pass"}]},{"object_kind":"var","config_addr":"var.health_check_protocol","status":"pass","objects":[{"object_addr":"var.health_check_protocol","status":"pass"}]},{"object_kind":"var","config_addr":"var.label_value_case","status":"pass","objects":[{"object_addr":"var.label_value_case","status":"pass"}]},{"object_kind":"var","config_addr":"module.this.var.context","status":"pass","objects":[{"object_addr":"module.this.var.context","status":"pass"}]},{"object_kind":"var","config_addr":"var.http_protocol","status":"pass","objects":[{"object_addr":"var.http_protocol","status":"pass"}]},{"object_kind":"var","config_addr":"var.autoscaling_dimension","status":"pass","objects":[{"object_addr":"var.autoscaling_dimension","status":"pass"}]},{"object_kind":"var","config_addr":"module.service_connect_label.var.label_key_case","status":"pass","objects":[{"object_addr":"module.service_connect_label.var.label_key_case","status":"pass"}]},{"object_kind":"var","config_addr":"module.exec_label.var.label_value_case","status":"pass","objects":[{"object_addr":"module.exec_label.var.label_value_case","status":"pass"}]},{"object_kind":"var","config_addr":"module.exec_label.var.label_key_case","status":"pass","objects":[{"object_addr":"module.exec_label.var.label_key_case","status":"pass"}]},{"object_kind":"var","config_addr":"module.service_label.var.id_length_limit","status":"pass","objects":[{"object_addr":"module.service_label.var.id_length_limit","status":"pass"}]},{"object_kind":"var","config_addr":"module.service_label.var.label_key_case","status":"pass","objects":[{"object_addr":"module.service_label.var.label_key_case","status":"pass"}]},{"object_kind":"var","config_addr":"module.exec_label.var.id_length_limit","status":"pass","objects":[{"object_addr":"module.exec_label.var.id_length_limit","status":"pass"}]},{"object_kind":"var","config_addr":"module.this.var.label_key_case","status":"pass","objects":[{"object_addr":"module.this.var.label_key_case","status":"pass"}]},{"object_kind":"var","config_addr":"module.this.var.label_value_case","status":"pass","objects":[{"object_addr":"module.this.var.label_value_case","status":"pass"}]},{"object_kind":"var","config_addr":"module.task_label.var.label_key_case","status":"pass","objects":[{"object_addr":"module.task_label.var.label_key_case","status":"pass"}]},{"object_kind":"var","config_addr":"var.label_key_case","status":"pass","objects":[{"object_addr":"var.label_key_case","status":"pass"}]},{"object_kind":"var","config_addr":"var.id_length_limit","status":"pass","objects":[{"object_addr":"var.id_length_limit","status":"pass"}]},{"object_kind":"var","config_addr":"module.service_label.var.context","status":"pass","objects":[{"object_addr":"module.service_label.var.context","status":"pass"}]},{"object_kind":"var","config_addr":"module.service_label.var.label_value_case","status":"pass","objects":[{"object_addr":"module.service_label.var.label_value_case","status":"pass"}]},{"object_kind":"var","config_addr":"module.service_connect_label.var.context","status":"pass","objects":[{"object_addr":"module.service_connect_label.var.context","status":"pass"}]},{"object_kind":"var","config_addr":"module.exec_label.var.context","status":"pass","objects":[{"object_addr":"module.exec_label.var.context","status":"pass"}]},{"object_kind":"var","config_addr":"var.containers","status":"pass","objects":[{"object_addr":"var.containers","status":"pass"}]}]}
